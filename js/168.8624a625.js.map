{"version":3,"file":"js/168.8624a625.js","mappings":"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","sources":["webpack://my-project/./src/api/clientCart.js","webpack://my-project/./src/api/clientCoupon.js","webpack://my-project/./src/api/clientCheckout.js","webpack://my-project/./src/api/clientOrder.js","webpack://my-project/./src/api/clientProduct.js","webpack://my-project/./src/api/client.js","webpack://my-project/./src/stores/statusStore.js","webpack://my-project/./src/views/StoreUserCartView.vue","webpack://my-project/./src/views/StoreUserCartView.vue?c1fb"],"sourcesContent":["import axios from 'axios';\n\nconst cartRequest = axios.create({\n  baseURL: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/`,\n});\n\n// Cart related\nexport const getCartList = () => cartRequest.get('/cart');\nexport const postCartItem = (data) => cartRequest.post('/cart', data);\nexport const putCartItem = (data, cartItemId) => cartRequest.put(`/cart/${cartItemId}`, data);\nexport const deleteCartItem = (productId) => cartRequest.delete(`/cart/${productId}`);\nexport const deleteCartAll = () => cartRequest.delete('/carts');\n","import axios from 'axios';\n\nconst couponRequest = axios.create({\n  baseURL: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/`,\n});\n\n// Coupons related\nexport const postCouponApply = (data) => couponRequest.post('/coupon', data);\n","import axios from 'axios';\n\nconst checkoutRequest = axios.create({\n  baseURL: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/`,\n});\n\n// Checkout related\nexport const postCheckout = (orderId) => checkoutRequest.post(`/pay/${orderId}`);\n","import axios from 'axios';\n\nconst orderRequest = axios.create({\n  baseURL: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/`,\n});\n\n// Orders related\nexport const getOrderList = (page) => orderRequest.get(`/orders?page=${page}`);\nexport const getOrderListById = (orderId) => orderRequest.get(`/order/${orderId}`);\nexport const postOrder = (data) => orderRequest.post('/order', data);\n","import axios from 'axios';\n\nconst productRequest = axios.create({\n  baseURL: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/`,\n});\n\n// Products related\nexport const getProductList = () => productRequest.get('/products');\nexport const getProductListByPage = (page) => productRequest.get(`/products?page=${page}`);\nexport const getProductListAll = () => productRequest.get('/products/all');\nexport const getProductDetail = (productId) => productRequest.get(`/product/${productId}`);\n","import {\n  getCartList,\n  postCartItem,\n  putCartItem,\n  deleteCartItem,\n  deleteCartAll,\n} from './clientCart';\n\nimport { postCheckout } from './clientCheckout';\nimport { postCouponApply } from './clientCoupon';\nimport { getOrderList, getOrderListById, postOrder } from './clientOrder';\n\nimport {\n  getProductList,\n  getProductListByPage,\n  getProductListAll,\n  getProductDetail,\n} from './clientProduct';\n\nexport const apiGetCartList = getCartList;\nexport const apiPostCartItem = postCartItem;\nexport const apiPutCartItem = putCartItem;\nexport const apiDeleteCartItem = deleteCartItem;\nexport const apiDeleteCartAll = deleteCartAll;\nexport const apiPostCheckout = postCheckout;\nexport const apiPostCouponApply = postCouponApply;\nexport const apiGetOrderList = getOrderList;\nexport const apiGetOrderListById = getOrderListById;\nexport const apiPostOrder = postOrder;\nexport const apiGetProductList = getProductList;\nexport const apiGetProductListByPage = getProductListByPage;\nexport const apiGetProductListAll = getProductListAll;\nexport const apiGetProductDetail = getProductDetail;\n","import { defineStore } from 'pinia';\n\nexport default defineStore('statusStore', {\n  state: () => ({\n    isLoading: false,\n    cartIsShown: false,\n    cartLoadingItem: '',\n    cartDeletedItem: '',\n    cartItemIsAdded: false,\n    cartItemIsOverlaid: false,\n    couponIsApplied: false,\n    couponIsValid: false,\n    orderIsValid: false,\n    apiRequestIsFailed: false,\n    apiErrorMessage: '',\n  }),\n});\n","<template>\n  <main class=\"container mt-5\">\n    <RouterView\n      name=\"StoreUserCartProgressBar\"\n      :percentage=\"progressPercent\"\n      :enableStepsArray=\"enableStepsArray\"\n      :formIsValid=\"formIsValid\"\n    />\n    <div class=\"row\">\n      <RouterView name=\"StoreUserCartProductTable\" :class=\"columns\" />\n      <RouterView\n        name=\"StoreUserCartOrderForm\"\n        :emailValue=\"tempForm.user.email\"\n        :nameValue=\"tempForm.user.name\"\n        :telValue=\"tempForm.user.tel\"\n        :addressValue=\"tempForm.user.address\"\n        :messageValue=\"tempForm.message\"\n        :paymentMethod=\"paymentMethod\"\n        @update:emailValue=\"(value) => (tempForm.user.email = value)\"\n        @update:nameValue=\"(value) => (tempForm.user.name = value)\"\n        @update:telValue=\"(value) => (tempForm.user.tel = value)\"\n        @update:addressValue=\"(value) => (tempForm.user.address = value)\"\n        @update:messageValue=\"(value) => (tempForm.message = value)\"\n        @update:paymentMethod=\"(value) => (paymentMethod = value)\"\n        @validateForm=\"validateForm\"\n        class=\"col-12 col-lg-8\"\n      />\n      <RouterView name=\"StoreUserCartSpreadsheet\" :nextPage=\"nextPage\" :formIsValid=\"formIsValid\" />\n    </div>\n    <RouterView\n      :tempForm=\"tempForm\"\n      :paymentMethod=\"paymentMethod\"\n      :order=\"order\"\n      @getOrderList=\"getOrderList\"\n    />\n  </main>\n</template>\n\n<script>\nimport { apiGetOrderListById } from '@/api/client';\nimport { mapWritableState } from 'pinia';\nimport statusStore from '@/stores/statusStore';\n\nexport default {\n  data() {\n    return {\n      order: {},\n      tempForm: {\n        user: {\n          email: '',\n          name: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      paymentMethod: '貨到付款',\n      formIsValid: false,\n    };\n  },\n  computed: {\n    form() {\n      const form = {};\n      form.message = this.order.message;\n      form.user = { ...this.order.user };\n      return form;\n    },\n    nextPage() {\n      if (this.$route.name === 'cart') return 'order';\n      if (this.$route.name === 'order') return 'checkout';\n      return 'cart';\n    },\n    progressPercent() {\n      if (this.$route.name === 'order') return 50;\n      if (this.$route.name === 'checkout') return 100;\n      return 0;\n    },\n    enableStepsArray() {\n      if (this.$route.name === 'order') return [1, 2];\n      if (this.$route.name === 'checkout') return [1, 2, 3];\n      return [1];\n    },\n    columns() {\n      if (this.$route.name === 'checkout') return 'col-12';\n      return 'col-12 col-lg-8';\n    },\n    ...mapWritableState(statusStore, ['apiRequestIsFailed', 'apiErrorMessage']),\n  },\n  methods: {\n    validateForm(result) {\n      this.formIsValid = result;\n    },\n    async getOrderList(orderId) {\n      try {\n        const result = await apiGetOrderListById(orderId);\n        this.order = result.data.order;\n      } catch (err) {\n        this.apiRequestIsFailed = true;\n        this.apiErrorMessage = err;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./StoreUserCartView.vue?vue&type=template&id=33489e36\"\nimport script from \"./StoreUserCartView.vue?vue&type=script&lang=js\"\nexport * from \"./StoreUserCartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\rainb\\\\Desktop\\\\vue-project\\\\CHIRP-thermos\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["cartRequest","axios","baseURL","getCartList","get","postCartItem","data","post","putCartItem","cartItemId","put","deleteCartItem","productId","delete","couponRequest","postCouponApply","orderRequest","getOrderListById","orderId","postOrder","productRequest","getProductList","apiGetCartList","apiPostCartItem","apiPutCartItem","apiDeleteCartItem","apiPostCouponApply","apiGetOrderListById","apiPostOrder","apiGetProductList","defineStore","state","isLoading","cartIsShown","cartLoadingItem","cartDeletedItem","cartItemIsAdded","cartItemIsOverlaid","couponIsApplied","couponIsValid","orderIsValid","apiRequestIsFailed","apiErrorMessage","class","_createElementBlock","_createVNode","_component_RouterView","name","percentage","$options","enableStepsArray","formIsValid","$data","_createElementVNode","emailValue","user","email","nameValue","telValue","tel","addressValue","address","messageValue","message","paymentMethod","_cache","value","onValidateForm","nextPage","tempForm","order","onGetOrderList","computed","form","this","$route","progressPercent","columns","mapWritableState","statusStore","methods","validateForm","result","async","err","__exports__","render"],"sourceRoot":""}