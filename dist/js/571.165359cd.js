"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[571],{4827:function(e,t,s){s.d(t,{er:function(){return _},Wf:function(){return v},dr:function(){return y},ye:function(){return I},gJ:function(){return k},FC:function(){return C},Vh:function(){return w},sG:function(){return f}});var a=s(6265),l=s.n(a);const i=l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),r=()=>i.get("/cart"),n=e=>i.post("/cart",e),o=(e,t)=>i.put(`/cart/${t}`,e),c=e=>i.delete(`/cart/${e}`),d=(l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"})),u=e=>d.post("/coupon",e),m=l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),p=e=>m.get(`/order/${e}`),h=e=>m.post("/order",e),b=l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),g=()=>b.get("/products"),v=r,k=n,f=o,_=c,C=u,y=p,w=h,I=g},4677:function(e,t,s){s.d(t,{x:function(){return n}});var a=s(4827),l=s(4301),i=s(6294);const r=(0,i.Z)(),n=(0,l.Q_)("cart",{state:()=>({cart:{},itemQty:0}),getters:{discount(){return this.cart.total-this.cart.final_total}},actions:{async getCartList(){r.isLoading=!0;const e=await(0,a.Wf)();try{this.cart=e.data.data}catch(t){}r.isLoading=!1},async addCartItem(e,t){r.cartLoadingItem=e,r.cartItemIsAdded=!1;await(0,a.gJ)({data:{product_id:e,qty:t}});try{r.cartLoadingItem="",r.cartItemIsAdded=!0}catch(s){r.cartItemIsAdded=!1}this.getCartList()},async updateCartItem({itemId:e,qty:t}){const s=t<=0?1:t;r.cartLoadingItem=e;await(0,a.sG)({data:{product_id:e,qty:s}},e);r.cartLoadingItem="",this.getCartList()},async deleteCartItem(e){r.cartDeletedItem=e;await(0,a.er)(e);this.cancelOverlay(),this.getCartList()},overlayCartItem(e){r.cartItemIsOverlaid=!0,r.cartDeletedItem=e},cancelOverlay(){r.cartItemIsOverlaid=!1,r.cartDeletedItem=""}}})},6294:function(e,t,s){var a=s(4301);t["Z"]=(0,a.Q_)("statusStore",{state:()=>({isLoading:!1,cartIsShown:!1,cartLoadingItem:"",cartDeletedItem:"",cartItemIsAdded:!1,cartItemIsOverlaid:!1,couponIsApplied:!1,couponIsValid:!1,orderIsValid:!1})})},1680:function(e,t,s){s.d(t,{Z:function(){return h}});var a=s(3396);const l=["disabled"],i={for:"qty",class:"w-25 align-middle"},r=["disabled","value"],n=["disabled"];function o(e,t,s,o,c,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[s.hasOperators?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn bi bi-dash fs-3 text-black-50",disabled:e.cartDeletedItem===s.itemId||1===s.qty,onClick:t[0]||(t[0]=t=>e.$emit("updateItem",{qty:s.qty-1,itemId:s.itemId}))},null,8,l)):(0,a.kq)("",!0),(0,a._)("label",i,[(0,a._)("input",{type:"number",class:"rounded form-control text-center w-100 text-black-50 bg-transparent px-2",id:"qty",min:"1",disabled:e.cartDeletedItem===s.itemId||!s.hasOperators&&!s.editable,value:s.qty,onChange:t[1]||(t[1]=t=>e.$emit("update:value",Number(t.target.value)))},null,40,r)]),s.hasOperators?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"btn bi bi-plus fs-3 text-black-50",disabled:e.cartDeletedItem===s.itemId,onClick:t[2]||(t[2]=t=>e.$emit("updateItem",{qty:s.qty+1,itemId:s.itemId}))},null,8,n)):(0,a.kq)("",!0)],64)}var c=s(6294),d=s(4301),u={props:{hasOperators:{type:Boolean,default:!0},qty:{type:Number,default:1},itemId:{type:String,default:"defaultId"},editable:{type:Boolean,default:!0}},emits:["updateItem","update:value"],computed:{...(0,d.rn)(c.Z,["cartDeletedItem"])}},m=s(89);const p=(0,m.Z)(u,[["render",o],["__scopeId","data-v-14698621"]]);var h=p},5571:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ve}});var a=s(3396),l=s(7139);function i(e,t,s,i,r,n){const o=(0,a.up)("StoreHeader"),c=(0,a.up)("router-view"),d=(0,a.up)("StoreFooter");return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["d-flex flex-column",{"min-vh-100":!n.pagesWithoutFooter}])},[(0,a.Wm)(o,{class:"flex-shrink-0",onBlurPages:n.blurPages},null,8,["onBlurPages"]),(0,a._)("div",{class:(0,l.C_)(["unblur flex-grow-1",{blur:r.hamburgerIsOpened}])},[(0,a.Wm)(c)],2),(0,a.Wm)(d,{class:(0,l.C_)(["unblur flex-shrink-0",{"d-none":n.pagesWithoutFooter,blur:r.hamburgerIsOpened}])},null,8,["class"])],2)}var r=s(2835);const n=e=>((0,a.dD)("data-v-53b9d5bc"),e=e(),(0,a.Cn)(),e),o=(0,a.Uk)("商品資訊"),c=(0,a.Uk)("線上訂購"),d=(0,a.Uk)("訂單查詢"),u=(0,a.Uk)("關於我們"),m=["disabled"],p=n((()=>(0,a._)("i",{class:"line bg-classic-green"},null,-1))),h=n((()=>(0,a._)("i",{class:"line bg-classic-green"},null,-1))),b=n((()=>(0,a._)("i",{class:"line bg-classic-green"},null,-1))),g=[p,h,b],v=n((()=>(0,a._)("a",{class:"navbar-brand position-absolute top-50 start-50 translate-middle",href:"#"},[(0,a._)("img",{src:r,alt:"CHIRP鳥牌Logo圖片",style:{"max-height":"48px"},class:"w-100"})],-1))),k={class:"ms-auto me-0 d-flex"},f={ref:"hamburger",class:"bg-light collapse text-center position-absolute w-100",id:"navbar__mobile-content"},_={class:"vh-50"},C=(0,a.Uk)("商品資訊"),y=(0,a.Uk)("線上訂購"),w=(0,a.Uk)("訂單查詢"),I=(0,a.Uk)("關於我們");function x(e,t,s,i,r,n){const p=(0,a.up)("router-link"),h=(0,a.up)("StoreHeaderMiniCart");return(0,a.wg)(),(0,a.iD)("header",{class:(0,l.C_)(["container-fluid top-0",[n.positionType,n.headerScroll]])},[(0,a._)("nav",{class:(0,l.C_)(["navbar navbar-expand-lg navbar-light mx-1",n.navScroll])},[(0,a.Wm)(p,{to:"/thermos/classic-green",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"thermosClassic"===this.$route.name}])},{default:(0,a.w5)((()=>[o])),_:1},8,["class"]),(0,a.Wm)(p,{to:"/thermos/classic/details/classic-green",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"thermosClassicDetails"===this.$route.name}])},{default:(0,a.w5)((()=>[c])),_:1},8,["class"]),(0,a.Wm)(p,{to:"/order-check",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"OrderCheck"===this.$route.name}])},{default:(0,a.w5)((()=>[d])),_:1},8,["class"]),(0,a.Wm)(p,{to:"/about-us",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"aboutUs"===this.$route.name}])},{default:(0,a.w5)((()=>[u])),_:1},8,["class"]),(0,a._)("button",{class:"navbar-toggler border-0",type:"button",disabled:!r.isCollapsed,onClick:t[0]||(t[0]=(...e)=>n.toggleHamburger&&n.toggleHamburger(...e))},[(0,a._)("div",{id:"navbar__mobile-icon",class:(0,l.C_)({isActive:r.isActive})},g,2)],8,m),v,(0,a._)("div",k,[(0,a.Wm)(h)])],2),(0,a._)("nav",f,[(0,a._)("div",_,[(0,a.Wm)(p,{to:"/thermos/classic",class:(0,l.C_)(["nav-link link-classic-green fw-medium py-3 fs-5 mt-2",{"nav-link--selected":"thermosClassic"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[C])),_:1},8,["class","onClick"]),(0,a.Wm)(p,{to:"/thermos/classic/details/classic-green",class:(0,l.C_)(["nav-link link-classic-green fw-medium py3 fs-5",{"nav-link--selected":"thermosClassicDetails"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[y])),_:1},8,["class","onClick"]),(0,a.Wm)(p,{to:"/order-check",class:(0,l.C_)(["nav-link link-classic-green fw-medium py-3 fs-5",{"nav-link--selected":"OrderCheck"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[w])),_:1},8,["class","onClick"]),(0,a.Wm)(p,{to:"/about-us",class:(0,l.C_)(["nav-link link-classic-green fw-medium py3 fs-5 mb-4",{"nav-link--selected":"aboutUs"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[I])),_:1},8,["class","onClick"])])],512)],2)}var D=s(3455),$=s.n(D),L=s(9242);const S=e=>((0,a.dD)("data-v-020a913e"),e=e(),(0,a.Cn)(),e),U={class:"dropdown position-relative cart"},W=S((()=>(0,a._)("i",{class:"bi bi-cart fs-4 text-classic-green"},null,-1))),q={key:0,class:"position-absolute top-28 start-75 translate-middle badge rounded-pill bg-danger"},O=S((()=>(0,a._)("span",{class:"visually-hidden"},"商品數量",-1))),H=S((()=>(0,a._)("div",{class:"row py-2 border-bottom"},[(0,a._)("div",{class:"col"},"購物車")],-1))),A={class:"card border-0",style:{"max-width":"540px"}},E={key:0,colspan:"4",class:"p-2"},Z=(0,a.Uk)(" 您的購物車目前沒有任何商品，"),P=(0,a.Uk)("去購物"),V={class:"col-5 border text-center",style:{"max-width":"114px","max-height":"112px"}},T=["src","alt"],F={class:"col-7"},R={class:"card-body"},j={class:"card-title fs-6"},B={class:"card-text m-0"},M={class:"card-text align-middle"},z=(0,a.Uk)(" 數量： "),N=["onClick"],G={key:1,class:"spinner-border spinner-border-sm text-dark float-end m-2",role:"status"},Q=S((()=>(0,a._)("span",{class:"visually-hidden"},"Loading...",-1))),J=[Q],Y={key:0,class:"overlay w-100 h-100 position-absolute top-0 start-0"},K={class:"w-100 position-absolute top-50 start-50 translate-middle"},X=S((()=>(0,a._)("p",{class:"text-center text-light"},"確定要刪除嗎？",-1))),ee={class:"d-flex justify-content-center",role:"group","aria-label":"Basic example"},te=["onClick"],se={class:"row border-top"},ae={class:"col-12 py-2 d-flex justify-content-between"},le=S((()=>(0,a._)("p",null,"合計",-1))),ie={class:"fw-medium"},re={class:"col-12"},ne={class:"btn-group w-100"},oe=(0,a.Uk)("查看購物車"),ce=(0,a.Uk)("結帳");function de(e,t,s,i,r,n){const o=(0,a.up)("router-link"),c=(0,a.up)("StoreProductInput");return(0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("button",{type:"button",id:"cart-button",class:"btn",onMousedown:t[0]||(t[0]=(0,L.iM)((t=>e.cartIsShown=!e.cartIsShown),["stop"])),onMouseenter:t[1]||(t[1]=t=>e.cartIsShown=!0),onFocus:t[2]||(t[2]=t=>e.cartIsShown=!0)},[W,this.cart.carts?.length?((0,a.wg)(),(0,a.iD)("span",q,[(0,a.Uk)((0,l.zw)(this.cart.carts?.length??"0")+" ",1),O])):(0,a.kq)("",!0)],32),(0,a.Wm)(L.uT,null,{default:(0,a.w5)((()=>[e.cartIsShown?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"container-fluid border position-absolute end-50 bg-white overflow-auto mh-70",style:{width:"20rem"},onMouseleave:t[7]||(t[7]=t=>e.cartIsShown=!1),onBlur:t[8]||(t[8]=t=>e.cartIsShown=!1)},[H,(0,a._)("div",A,[0===this.cart.carts?.length?((0,a.wg)(),(0,a.iD)("p",E,[Z,(0,a.Wm)(o,{to:"/thermos/classic/details/classic-green",class:"text-decoration-none link-classic-green fw-medium",onClick:t[3]||(t[3]=t=>e.cartIsShown=!e.cartIsShown)},{default:(0,a.w5)((()=>[P])),_:1})])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cart.carts,((s,i)=>((0,a.wg)(),(0,a.iD)("div",{key:s+i,class:(0,l.C_)(["row g-0 align-items-center position-relative",{"td-deleted":e.cartDeletedItem===s.id,"text-muted":e.cartDeletedItem===s.id}])},[(0,a._)("div",V,[(0,a._)("img",{src:s.product.imageUrl,class:"img-fluid p-2 rounded",alt:`${s.product.title}圖片`,style:{"max-height":"112px"}},null,8,T)]),(0,a._)("div",F,[(0,a._)("div",R,[(0,a._)("h5",j,(0,l.zw)(s.product.title),1),(0,a._)("p",B,"NT$ "+(0,l.zw)(s.product.price),1),(0,a._)("span",M,[z,(0,a.Wm)(c,{hasOperators:!1,itemId:s.id,qty:s.qty,"onUpdate:value":t=>e.updateCartItem({itemId:s.id,qty:t})},null,8,["itemId","qty","onUpdate:value"])]),e.cartDeletedItem!==s.id?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn bi bi-trash float-end btn-deleted",onClick:t=>e.overlayCartItem(s.id)},null,8,N)):(0,a.kq)("",!0),e.cartDeletedItem===s.id?((0,a.wg)(),(0,a.iD)("div",G,J)):(0,a.kq)("",!0)])]),s.id===e.cartDeletedItem?((0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("div",K,[X,(0,a._)("div",ee,[(0,a._)("button",{type:"button",class:"btn btn-danger me-1",onClick:t=>e.deleteCartItem(s.id)}," 刪除產品 ",8,te),(0,a._)("button",{type:"button",class:"btn btn-light ms-1",onClick:t[4]||(t[4]=(...t)=>e.cancelOverlay&&e.cancelOverlay(...t))}," 返回 ")])])])):(0,a.kq)("",!0)],2)))),128))]),(0,a._)("div",se,[(0,a._)("div",ae,[le,(0,a._)("p",ie,"NT$ "+(0,l.zw)(e.cart.total?.toLocaleString("en-us")),1)]),(0,a._)("div",re,[(0,a._)("div",ne,[(0,a.Wm)(o,{to:{path:"/user/cart"},class:"btn btn-outline-secondary w-45 mr-2 mb-3",onClick:t[5]||(t[5]=t=>e.cartIsShown=!1)},{default:(0,a.w5)((()=>[oe])),_:1}),(0,a.Wm)(o,{to:{path:"/user/cart/order"},class:(0,l.C_)(["btn btn-dark w-45 ms-2 mb-3",{disabled:!this.cart.carts?.length}]),onClick:t[6]||(t[6]=t=>e.cartIsShown=!1)},{default:(0,a.w5)((()=>[ce])),_:1},8,["class"])])])])],32)):(0,a.kq)("",!0)])),_:1})])}var ue=s(4677),me=s(4301),pe=s(6294),he=s(1680),be={components:{StoreProductInput:he.Z},computed:{...(0,me.rn)(ue.x,["cart"]),...(0,me.Ah)(pe.Z,["cartDeletedItem"]),...(0,me.Ah)(pe.Z,["cartIsShown"])},methods:{...(0,me.nv)(ue.x,["getCartList","deleteCartItem","updateCartItem","overlayCartItem","cancelOverlay"])},async created(){await this.getCartList()}},ge=s(89);const ve=(0,ge.Z)(be,[["render",de],["__scopeId","data-v-020a913e"]]);var ke=ve,fe={components:{StoreHeaderMiniCart:ke},data(){return{isActive:!1,isCollapsed:!0,collapse:{},topVisible:0}},computed:{positionType(){return"home"===this.$route.name||"thermosClassic"===this.$route.name?"position-fixed":"position-sticky"},headerScroll(){return 0!==this.topVisible&&"thermosClassic"!==this.$route.name?"header header--scroll":"header"},navScroll(){return 0!==this.topVisible&&"thermosClassic"!==this.$route.name?"navbar navbar--scroll":"navbar"}},emits:["blurPages"],methods:{toggleHamburger(){this.isCollapsed&&(this.isActive=!this.isActive,this.collapse.toggle()),this.$emit("blurPages",this.isActive)},beCollapsed(){this.isCollapsed=!0},beCollapsing(){this.isCollapsed=!1},calcTopVisible(){this.topVisible=document.documentElement.scrollTop}},mounted(){this.collapse=new($().Collapse)(this.$refs.hamburger,{toggle:!1}),this.$refs.hamburger.addEventListener("show.bs.collapse",this.beCollapsing),this.$refs.hamburger.addEventListener("hide.bs.collapse",this.beCollapsing),this.$refs.hamburger.addEventListener("shown.bs.collapse",this.beCollapsed),this.$refs.hamburger.addEventListener("hidden.bs.collapse",this.beCollapsed),document.addEventListener("scroll",this.calcTopVisible)},unmounted(){this.$refs.hamburger.removeEventListener("show.bs.collapse",this.beCollapsing),this.$refs.hamburger.removeEventListener("hide.bs.collapse",this.beCollapsing),this.$refs.hamburger.removeEventListener("shown.bs.collapse",this.beCollapsed),this.$refs.hamburger.removeEventListener("hidden.bs.collapse",this.beCollapsed),document.removeEventListener("scroll",this.calcTopVisible)}};const _e=(0,ge.Z)(fe,[["render",x],["__scopeId","data-v-53b9d5bc"]]);var Ce=_e;const ye={class:"py-4"},we={class:"nav justify-content-center border-top py-3 my-0"},Ie=(0,a.Uk)("商品資訊"),xe=(0,a.Uk)("線上訂購"),De=(0,a.Uk)("訂單查詢"),$e=(0,a.Uk)("關於我們"),Le=(0,a._)("p",{class:"text-muted text-center fs-7"},"Copyright © 2022 CHIRP鳥牌. All rights reserved",-1),Se={class:"text-muted text-center fs-7"},Ue=(0,a.Uk)(" Designed/Developed by: Sam Chiu | Admin portal: "),We=(0,a.Uk)("Dashboard"),qe=(0,a.uE)('<ul class="list-group flex-row justify-content-center align-items-center"><li class="list-group-item bg-transparent border-0"><a href="https://www.linkedin.com/in/sam-chiu-4b7557137/" class="link-secondary" target="_blank"><span class="visually-hidden">Link of Sam Chiu&#39;s LinkedIn page</span><i class="bi bi-linkedin fs-3"></i></a></li><li class="list-group-item bg-transparent border-0"><a href="https://github.com/samchiu064" class="link-secondary" target="_blank"><span class="visually-hidden">Link of Sam Chiu&#39;s GitHub page</span><i class="bi bi-github fs-3"></i></a></li><li class="list-group-item bg-transparent border-0"><a href="mailto: samchiu064@gmail.com" class="link-secondary"><span class="visually-hidden">Send an email to samchiu064@gmail.com</span><i class="bi bi-envelope-fill fs-3"></i></a></li></ul>',1);function Oe(e,t,s,i,r,n){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",ye,[(0,a._)("nav",we,[(0,a.Wm)(o,{to:"/thermos/classic",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"thermosClassic"===this.$route.name}])},{default:(0,a.w5)((()=>[Ie])),_:1},8,["class"]),(0,a.Wm)(o,{to:"/thermos/classic/details/classic-green",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"thermosClassicDetails"===this.$route.name}])},{default:(0,a.w5)((()=>[xe])),_:1},8,["class"]),(0,a.Wm)(o,{to:"/order-check",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"orderCheck"===this.$route.name}])},{default:(0,a.w5)((()=>[De])),_:1},8,["class"]),(0,a.Wm)(o,{to:"/about-us",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"aboutUs"===this.$route.name}])},{default:(0,a.w5)((()=>[$e])),_:1},8,["class"])]),Le,(0,a._)("p",Se,[Ue,(0,a.Wm)(o,{to:"/dashboard",class:"link-secondary"},{default:(0,a.w5)((()=>[We])),_:1})]),qe])}var He={};const Ae=(0,ge.Z)(He,[["render",Oe]]);var Ee=Ae,Ze={components:{StoreHeader:Ce,StoreFooter:Ee},data(){return{hamburgerIsOpened:!1}},computed:{pagesWithoutFooter(){const e=["home","thermosClassic"];return!!e.includes(this.$route.name)}},methods:{blurPages(e){this.hamburgerIsOpened=!!e}}};const Pe=(0,ge.Z)(Ze,[["render",i],["__scopeId","data-v-66bdb81a"]]);var Ve=Pe},2835:function(e,t,s){e.exports=s.p+"img/logo.d1a6f549.svg"}}]);
//# sourceMappingURL=571.165359cd.js.map