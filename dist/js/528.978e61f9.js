"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[528],{2271:function(e,s,t){t.d(s,{wu:function(){return a},U6:function(){return i},Fd:function(){return u}});var n=t(6265),r=t.n(n);const o=r().create({baseURL:"https://vue3-course-api.hexschool.io/"});if(document.cookie){const e=document.cookie.split("; ").find((e=>e.startsWith("hexToken="))).split("=")[1];o.interceptors.request.use((s=>(s.headers.Authorization=e,s)),(e=>Promise.reject(e)))}const a=e=>o.post("/admin/signin",e),i=()=>o.post("/logout"),u=()=>o.post("/api/user/check")},5528:function(e,s,t){t.r(s),t.d(s,{default:function(){return v}});var n=t(3396),r=t(9242);const o={class:"container mt-5"},a={class:"col-md-6"},i=(0,n._)("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),u={class:"mb-2"},c={for:"inputEmail",class:"sr-only w-100"},l=(0,n.Uk)("Email address "),d={class:"mb-2"},p={for:"inputPassword",class:"sr-only w-100"},m=(0,n.Uk)("Password "),h=(0,n._)("div",{class:"text-end mt-4"},[(0,n._)("button",{type:"submit",class:"btn btn-lg btn-primary btn-block"},"登入")],-1);function w(e,s,t,w,f,b){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("form",{class:"row justify-content-center",onSubmit:s[2]||(s[2]=(0,r.iM)(((...e)=>b.signin&&b.signin(...e)),["prevent"]))},[(0,n._)("div",a,[i,(0,n._)("div",u,[(0,n._)("label",c,[l,(0,n.wy)((0,n._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"","onUpdate:modelValue":s[0]||(s[0]=e=>f.user.username=e)},null,512),[[r.nr,f.user.username]])])]),(0,n._)("div",d,[(0,n._)("label",p,[m,(0,n.wy)((0,n._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=e=>f.user.password=e)},null,512),[[r.nr,f.user.password]])])]),h])],32)])}var f=t(2271),b={data(){return{user:{username:"",password:""}}},methods:{signin(){(0,f.wu)(this.user).then((e=>{const{token:s,expired:t}=e.data;document.cookie=`hexToken = ${s}; expires = ${new Date(t)}`,this.$router.push("/dashboard/products")})).catch((e=>{}))}}},k=t(89);const _=(0,k.Z)(b,[["render",w]]);var v=_}}]);
//# sourceMappingURL=528.978e61f9.js.map