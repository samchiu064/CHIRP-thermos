"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[282],{4827:function(t,e,r){r.d(e,{er:function(){return y},Wf:function(){return w},dr:function(){return I},ye:function(){return C},gJ:function(){return g},FC:function(){return v},Vh:function(){return L},sG:function(){return b}});var s=r(6265),a=r.n(s);const o=a().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),c=()=>o.get("/cart"),n=t=>o.post("/cart",t),i=(t,e)=>o.put(`/cart/${e}`,t),l=t=>o.delete(`/cart/${t}`),d=(a().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),a().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"})),u=t=>d.post("/coupon",t),p=a().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),m=t=>p.get(`/order/${t}`),h=t=>p.post("/order",t),_=a().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),f=()=>_.get("/products"),w=c,g=n,b=i,y=l,v=u,I=m,L=h,C=f},4677:function(t,e,r){r.d(e,{x:function(){return n}});var s=r(4827),a=r(4301),o=r(6294);const c=(0,o.Z)(),n=(0,a.Q_)("cart",{state:()=>({cart:{},itemQty:0}),getters:{discount(){return this.cart.total-this.cart.final_total}},actions:{async getCartList(){c.isLoading=!0,await(0,s.Wf)().then((t=>{this.cart=t.data.data})).catch((t=>{})),c.isLoading=!1},async addCartItem(t,e){c.cartLoadingItem=t,c.cartItemIsAdded=!1,await(0,s.gJ)({data:{product_id:t,qty:e}}).then((t=>{c.cartLoadingItem="",c.cartItemIsAdded=!0})).catch((t=>{c.cartItemIsAdded=!1})),this.getCartList()},async updateCartItem({itemId:t,qty:e}){const r=e<=0?1:e;c.cartLoadingItem=t,await(0,s.sG)({data:{product_id:t,qty:r}},t).then((t=>{})).catch((t=>{})),this.getCartList(),c.cartLoadingItem=""},async deleteCartItem(t){c.cartDeletedItem=t,await(0,s.er)(t).then((t=>{})).catch((t=>{})),this.getCartList(),c.cartDeletedItem=""}}})},6294:function(t,e,r){var s=r(4301);e["Z"]=(0,s.Q_)("statusStore",{state:()=>({isLoading:!1,cartIsShown:!1,cartLoadingItem:"",cartDeletedItem:"",cartItemIsAdded:!1,couponIsApplied:!1,couponIsValid:!1,orderIsValid:!1})})},2347:function(t,e,r){r.d(e,{Z:function(){return _}});var s=r(3396),a=r(7139);const o={class:"table"},c=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"品名"),(0,s._)("th",{scope:"col"},"數量"),(0,s._)("th",{scope:"col",class:"text-end"},"單價")])],-1),n={scope:"row"},i={class:"text-end"},l={class:"text-end"},d=(0,s._)("th",{scope:"row",colspan:"2"},"總價",-1);function u(t,e,r,u,p,m){return(0,s.wg)(),(0,s.iD)("table",o,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",n,(0,a.zw)(t.product.title),1),(0,s._)("td",null,(0,a.zw)(t.qty)+"/"+(0,a.zw)(t.product.unit),1),(0,s._)("td",i,(0,a.zw)(t.product.price?.toLocaleString("en-us")),1)])))),128))]),(0,s._)("tfoot",l,[d,(0,s._)("td",null,"NT$ "+(0,a.zw)(r.order.total?.toLocaleString("en-us")),1)])])}var p={props:{order:{type:Object,default:()=>{}}}},m=r(89);const h=(0,m.Z)(p,[["render",u]]);var _=h},3371:function(t,e,r){r.d(e,{Z:function(){return g}});var s=r(3396),a=r(7139);const o={class:"table-responsive"},c={class:"table text-nowrap align-middle table-borderless border mb-3"},n=(0,s._)("thead",{class:"table-light border-bottom"},[(0,s._)("tr",null,[(0,s._)("th",{colspan:"2",scope:"col",class:"fw-normal"},"訂單資訊")])],-1),i=(0,s._)("th",{class:"fw-medium"},"Email",-1),l=(0,s._)("th",{class:"fw-medium"},"收件人名稱",-1),d=(0,s._)("th",{class:"fw-medium"},"收件人聯絡電話",-1),u=(0,s._)("th",{class:"fw-medium"},"收件人地址",-1),p=(0,s._)("th",{class:"fw-medium"},"備註",-1),m=(0,s._)("tr",null,[(0,s._)("th",{class:"fw-medium"},"付款狀態"),(0,s._)("td",null,"尚未付款")],-1);function h(t,e,r,h,_,f){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("table",c,[n,(0,s._)("tbody",null,[(0,s._)("tr",null,[i,(0,s._)("td",null,(0,a.zw)(r.form.user.email),1)]),(0,s._)("tr",null,[l,(0,s._)("td",null,(0,a.zw)(r.form.user.name),1)]),(0,s._)("tr",null,[d,(0,s._)("td",null,(0,a.zw)(r.form.user.tel),1)]),(0,s._)("tr",null,[u,(0,s._)("td",null,(0,a.zw)(r.form.user.address),1)]),(0,s._)("tr",null,[p,(0,s._)("td",null,(0,a.zw)(r.form.message),1)]),m])])])}var _={props:{form:{type:Object,default:()=>{}}}},f=r(89);const w=(0,f.Z)(_,[["render",h]]);var g=w},2282:function(t,e,r){r.r(e),r.d(e,{default:function(){return C}});var s=r(3396),a=r(7139);const o={class:"row py-2"},c={class:"col"},n={class:"fs-4 text-center"},i=(0,s._)("i",{class:"bi bi-check2-circle text-success"},null,-1),l=(0,s.Uk)(" 感謝您的購買，您的訂單 "),d={class:"text-success"},u=(0,s.Uk)(" 已建立成功 "),p={class:"col-lg-6 m-auto"},m={class:"row justify-content-center mt-3"},h={class:"col-5 col-lg-3"},_=(0,s._)("div",{class:"col-5 col-lg-3"},[(0,s._)("button",{type:"button",class:"btn btn-dark rounded-pill w-100 py-2",onclick:"window.print()"}," 列印此頁 ")],-1);function f(t,e,r,f,w,g){const b=(0,s.up)("StoreUserCartOrderList"),y=(0,s.up)("StoreUserCartOrderTable");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",o,[(0,s._)("div",c,[(0,s._)("p",n,[i,l,(0,s._)("span",d,(0,a.zw)(r.order.id),1),u])])]),(0,s._)("div",p,[(0,s.Wm)(b,{order:r.order},null,8,["order"]),(0,s.Wm)(y,{form:r.tempForm},null,8,["form"])]),(0,s._)("div",m,[(0,s._)("div",h,[(0,s._)("button",{type:"button",class:"btn btn-outline-secondary rounded-pill w-100 py-2",onClick:e[0]||(e[0]=t=>this.$router.push({name:"OrderCheck"}))}," 查詢訂單 ")]),_])],64)}var w=r(2347),g=r(3371),b=r(4677),y=r(4301),v={components:{StoreUserCartOrderList:w.Z,StoreUserCartOrderTable:g.Z},props:{order:{type:Object,default:()=>{}},tempForm:{type:Object,default:()=>{}},paymentMethod:{type:String,default:""}},emits:["getOrderList"],methods:{...(0,y.nv)(b.x,["getCartList"])},created(){this.$Progress.start(),this.getCartList(),this.$emit("getOrderList",this.$route.params.orderId),this.$Progress.finish()}},I=r(89);const L=(0,I.Z)(v,[["render",f]]);var C=L}}]);
//# sourceMappingURL=282.26e130f7.js.map