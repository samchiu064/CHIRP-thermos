"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[619],{4827:function(e,t,s){s.d(t,{er:function(){return y},Wf:function(){return k},dr:function(){return I},ye:function(){return C},gJ:function(){return v},FC:function(){return _},Vh:function(){return w},sG:function(){return f}});var a=s(6265),l=s.n(a);const r=l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),i=()=>r.get("/cart"),n=e=>r.post("/cart",e),o=(e,t)=>r.put(`/cart/${t}`,e),c=e=>r.delete(`/cart/${e}`),d=(l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"})),u=e=>d.post("/coupon",e),p=l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),m=e=>p.get(`/order/${e}`),h=e=>p.post("/order",e),b=l().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),g=()=>b.get("/products"),k=i,v=n,f=o,y=c,_=u,I=m,w=h,C=g},4677:function(e,t,s){s.d(t,{x:function(){return n}});var a=s(4827),l=s(4301),r=s(6294);const i=(0,r.Z)(),n=(0,l.Q_)("cart",{state:()=>({cart:{},itemQty:0}),getters:{discount(){return this.cart.total-this.cart.final_total}},actions:{async getCartList(){i.isLoading=!0;try{const e=await(0,a.Wf)();this.cart=e.data.data}catch(e){i.apiRequestIsFailed=!0,i.apiErrorMessage=e}i.isLoading=!1},async addCartItem(e,t){i.cartLoadingItem=e,i.cartItemIsAdded=!1;try{await(0,a.gJ)({data:{product_id:e,qty:t}}),i.cartLoadingItem="",i.cartItemIsAdded=!0}catch(s){i.cartItemIsAdded=!1,i.apiRequestIsFailed=!0,i.apiErrorMessage=s}this.getCartList()},async updateCartItem({productId:e,qty:t},s){i.cartLoadingItem=e;try{const l=t<=0?1:t;await(0,a.sG)({data:{product_id:e,qty:l}},s),this.getCartList()}catch(l){i.apiRequestIsFailed=!0,i.apiErrorMessage=l}i.cartLoadingItem=""},async deleteCartItem(e){i.cartDeletedItem=e;try{await(0,a.er)(e),this.getCartList()}catch(t){i.apiRequestIsFailed=!0,i.apiErrorMessage=t}this.cancelOverlay()},overlayCartItem(e){i.cartItemIsOverlaid=!0,i.cartDeletedItem=e},cancelOverlay(){i.cartItemIsOverlaid=!1,i.cartDeletedItem=""}}})},6294:function(e,t,s){var a=s(4301);t["Z"]=(0,a.Q_)("statusStore",{state:()=>({isLoading:!1,cartIsShown:!1,cartLoadingItem:"",cartDeletedItem:"",cartItemIsAdded:!1,cartItemIsOverlaid:!1,couponIsApplied:!1,couponIsValid:!1,orderIsValid:!1,apiRequestIsFailed:!1,apiErrorMessage:""})})},5922:function(e,t,s){s.d(t,{Z:function(){return h}});var a=s(3396);const l=["disabled"],r={for:"qty",class:"w-25 align-middle"},i=["disabled","value"],n=["disabled"];function o(e,t,s,o,c,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[s.hasOperators?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn bi bi-dash fs-3 text-black-50",disabled:e.cartDeletedItem===s.productId||1===s.qty,onClick:t[0]||(t[0]=t=>e.$emit("updateItem",{qty:s.qty-1,productId:s.productId}))},null,8,l)):(0,a.kq)("",!0),(0,a._)("label",r,[(0,a._)("input",{type:"number",class:"rounded form-control text-center w-100 text-black-50 bg-transparent px-2",id:"qty",min:"1",disabled:e.cartDeletedItem===s.productId||!s.hasOperators&&!s.editable,value:s.qty,onChange:t[1]||(t[1]=t=>e.$emit("update:value",Number(t.target.value)))},null,40,i)]),s.hasOperators?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"btn bi bi-plus fs-3 text-black-50",disabled:e.cartDeletedItem===s.productId,onClick:t[2]||(t[2]=t=>e.$emit("updateItem",{qty:s.qty+1,productId:s.productId}))},null,8,n)):(0,a.kq)("",!0)],64)}var c=s(6294),d=s(4301),u={props:{hasOperators:{type:Boolean,default:!0},qty:{type:Number,default:1},productId:{type:String,default:"defaultId"},editable:{type:Boolean,default:!0}},emits:["updateItem","update:value"],computed:{...(0,d.rn)(c.Z,["cartDeletedItem"])}},p=s(89);const m=(0,p.Z)(u,[["render",o],["__scopeId","data-v-45372ad7"]]);var h=m},4619:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ve}});var a=s(3396),l=s(7139);function r(e,t,s,r,i,n){const o=(0,a.up)("StoreHeader"),c=(0,a.up)("RouterView"),d=(0,a.up)("StoreFooter");return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["d-flex flex-column",{"min-vh-100":!n.pagesWithoutFooter}])},[(0,a.Wm)(o,{class:"flex-shrink-0",onBlurPages:n.blurPages},null,8,["onBlurPages"]),(0,a._)("div",{class:(0,l.C_)(["unblur flex-grow-1",{blur:i.hamburgerIsOpened}])},[(0,a.Wm)(c)],2),(0,a.Wm)(d,{class:(0,l.C_)(["unblur flex-shrink-0",{"d-none":n.pagesWithoutFooter,blur:i.hamburgerIsOpened}])},null,8,["class"])],2)}var i=s(2835);const n=e=>((0,a.dD)("data-v-4af41e21"),e=e(),(0,a.Cn)(),e),o=(0,a.Uk)("商品資訊"),c=(0,a.Uk)("線上訂購"),d=(0,a.Uk)("訂單查詢"),u=(0,a.Uk)("關於我們"),p=["disabled"],m=n((()=>(0,a._)("i",{class:"line bg-classic-green"},null,-1))),h=n((()=>(0,a._)("i",{class:"line bg-classic-green"},null,-1))),b=n((()=>(0,a._)("i",{class:"line bg-classic-green"},null,-1))),g=[m,h,b],k=n((()=>(0,a._)("a",{class:"navbar-brand position-absolute top-50 start-50 translate-middle",href:"#"},[(0,a._)("img",{src:i,alt:"CHIRP鳥牌Logo圖片",style:{"max-height":"48px"},class:"w-100"})],-1))),v={class:"ms-auto me-0 d-flex"},f={ref:"hamburger",class:"bg-light collapse text-center position-absolute w-100",id:"navbar__mobile-content"},y={class:"vh-50"},_=(0,a.Uk)("商品資訊"),I=(0,a.Uk)("線上訂購"),w=(0,a.Uk)("訂單查詢"),C=(0,a.Uk)("關於我們");function x(e,t,s,r,i,n){const m=(0,a.up)("router-link"),h=(0,a.up)("StoreHeaderMiniCart");return(0,a.wg)(),(0,a.iD)("header",{class:(0,l.C_)(["container-fluid top-0",[n.positionType,n.headerScroll]])},[(0,a._)("nav",{class:(0,l.C_)(["navbar navbar-expand-lg navbar-light mx-1",n.navScroll])},[(0,a.Wm)(m,{to:"/thermos/classic-green",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"thermosClassic"===this.$route.name}])},{default:(0,a.w5)((()=>[o])),_:1},8,["class"]),(0,a.Wm)(m,{to:"/thermos/classic/details/classic-green",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"thermosClassicDetails"===this.$route.name}])},{default:(0,a.w5)((()=>[c])),_:1},8,["class"]),(0,a.Wm)(m,{to:"/order-check",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"OrderCheck"===this.$route.name}])},{default:(0,a.w5)((()=>[d])),_:1},8,["class"]),(0,a.Wm)(m,{to:"/about-us",class:(0,l.C_)(["nav-link d-none d-lg-block link-classic-green underline",{"nav-link--selected":"aboutUs"===this.$route.name}])},{default:(0,a.w5)((()=>[u])),_:1},8,["class"]),(0,a._)("button",{class:"navbar-toggler border-0",type:"button",disabled:!i.isCollapsed,onClick:t[0]||(t[0]=(...e)=>n.toggleHamburger&&n.toggleHamburger(...e))},[(0,a._)("div",{id:"navbar__mobile-icon",class:(0,l.C_)({isActive:i.isActive})},g,2)],8,p),k,(0,a._)("div",v,[(0,a.Wm)(h)])],2),(0,a._)("nav",f,[(0,a._)("div",y,[(0,a.Wm)(m,{to:"/thermos/classic",class:(0,l.C_)(["nav-link link-classic-green fw-medium py-3 fs-5 mt-2",{"nav-link--selected":"thermosClassic"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[_])),_:1},8,["class","onClick"]),(0,a.Wm)(m,{to:"/thermos/classic/details/classic-green",class:(0,l.C_)(["nav-link link-classic-green fw-medium py3 fs-5",{"nav-link--selected":"thermosClassicDetails"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[I])),_:1},8,["class","onClick"]),(0,a.Wm)(m,{to:"/order-check",class:(0,l.C_)(["nav-link link-classic-green fw-medium py-3 fs-5",{"nav-link--selected":"OrderCheck"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[w])),_:1},8,["class","onClick"]),(0,a.Wm)(m,{to:"/about-us",class:(0,l.C_)(["nav-link link-classic-green fw-medium py3 fs-5 mb-4",{"nav-link--selected":"aboutUs"===this.$route.name}]),onClick:n.toggleHamburger},{default:(0,a.w5)((()=>[C])),_:1},8,["class","onClick"])])],512)],2)}var D=s(3455),L=s.n(D),S=s(9242);const q=e=>((0,a.dD)("data-v-cf440340"),e=e(),(0,a.Cn)(),e),U={class:"dropdown position-relative cart"},$=q((()=>(0,a._)("i",{class:"bi bi-cart fs-4 text-classic-green"},null,-1))),W={key:0,class:"position-absolute top-28 start-75 translate-middle badge rounded-pill bg-danger"},O=q((()=>(0,a._)("span",{class:"visually-hidden"},"商品數量",-1))),H=q((()=>(0,a._)("div",{class:"row py-2 border-bottom"},[(0,a._)("div",{class:"col"},"購物車")],-1))),A={class:"card border-0",style:{"max-width":"540px"}},R={key:0,colspan:"4",class:"p-2"},Z=(0,a.Uk)(" 您的購物車目前沒有任何商品，"),E=(0,a.Uk)("去購物"),F={class:"col-5 border text-center",style:{"max-width":"114px","max-height":"112px"}},M=["src","alt"],P={class:"col-7"},V={class:"card-body"},T={class:"card-title fs-6"},j={class:"card-text m-0"},B={class:"card-text align-middle"},Q=(0,a.Uk)(" 數量： "),z={key:1,class:"spinner-border spinner-border-sm",role:"status"},N=q((()=>(0,a._)("span",{class:"visually-hidden"},"Loading...",-1))),G=[N],J=["onClick"],Y={key:1,class:"spinner-border spinner-border-sm text-dark float-end m-2",role:"status"},K=q((()=>(0,a._)("span",{class:"visually-hidden"},"Loading...",-1))),X=[K],ee={key:0,class:"overlay w-100 h-100 position-absolute top-0 start-0"},te={class:"w-100 position-absolute top-50 start-50 translate-middle"},se=q((()=>(0,a._)("p",{class:"text-center text-light"},"確定要刪除嗎？",-1))),ae={class:"d-flex justify-content-center",role:"group","aria-label":"Basic example"},le=["onClick"],re={class:"row border-top"},ie={class:"col-12 py-2 d-flex justify-content-between"},ne=q((()=>(0,a._)("p",null,"合計",-1))),oe={class:"fw-medium"},ce={class:"col-12"},de={class:"btn-group w-100"},ue=(0,a.Uk)("查看購物車"),pe=(0,a.Uk)("結帳");function me(e,t,s,r,i,n){const o=(0,a.up)("router-link"),c=(0,a.up)("StoreProductInput");return(0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("button",{type:"button",id:"cart-button",class:"btn",onMousedown:t[0]||(t[0]=(0,S.iM)((t=>e.cartIsShown=!e.cartIsShown),["stop"])),onMouseenter:t[1]||(t[1]=t=>e.cartIsShown=!0),onFocus:t[2]||(t[2]=t=>e.cartIsShown=!0)},[$,this.cart.carts?.length?((0,a.wg)(),(0,a.iD)("span",W,[(0,a.Uk)((0,l.zw)(this.cart.carts?.length??"0")+" ",1),O])):(0,a.kq)("",!0)],32),(0,a.Wm)(S.uT,null,{default:(0,a.w5)((()=>[e.cartIsShown?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"container-fluid border position-absolute end-50 bg-white overflow-auto mh-70",style:{width:"20rem"},onMouseleave:t[7]||(t[7]=t=>e.cartIsShown=!1),onBlur:t[8]||(t[8]=t=>e.cartIsShown=!1)},[H,(0,a._)("div",A,[0===this.cart.carts?.length?((0,a.wg)(),(0,a.iD)("p",R,[Z,(0,a.Wm)(o,{to:"/thermos/classic/details/classic-green",class:"text-decoration-none link-classic-green fw-medium",onClick:t[3]||(t[3]=t=>e.cartIsShown=!e.cartIsShown)},{default:(0,a.w5)((()=>[E])),_:1})])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cart.carts,(s=>((0,a.wg)(),(0,a.iD)("div",{key:s.product.id,class:(0,l.C_)(["row g-0 align-items-center position-relative",{"td-deleted":e.cartDeletedItem===s.id,"text-muted":e.cartDeletedItem===s.id}])},[(0,a._)("div",F,[(0,a._)("img",{src:s.product.imageUrl,class:"img-fluid p-2 rounded",alt:`${s.product.title}圖片`,style:{"max-height":"112px"}},null,8,M)]),(0,a._)("div",P,[(0,a._)("div",V,[(0,a._)("h5",T,(0,l.zw)(s.product.title),1),(0,a._)("p",j,"NT$ "+(0,l.zw)(s.product.price),1),(0,a._)("span",B,[Q,e.cartLoadingItem!==s.product.id?((0,a.wg)(),(0,a.j4)(c,{key:0,hasOperators:!1,productId:s.product.id,qty:s.qty,"onUpdate:value":e=>n.updateQty(e,s.product.id,s.id)},null,8,["productId","qty","onUpdate:value"])):(0,a.kq)("",!0),e.cartLoadingItem===s.product.id?((0,a.wg)(),(0,a.iD)("div",z,G)):(0,a.kq)("",!0)]),e.cartDeletedItem!==s.id?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn bi bi-trash float-end btn-deleted",onClick:t=>e.overlayCartItem(s.id)},null,8,J)):(0,a.kq)("",!0),e.cartDeletedItem===s.id?((0,a.wg)(),(0,a.iD)("div",Y,X)):(0,a.kq)("",!0)])]),s.id===e.cartDeletedItem?((0,a.wg)(),(0,a.iD)("div",ee,[(0,a._)("div",te,[se,(0,a._)("div",ae,[(0,a._)("button",{type:"button",class:"btn btn-danger me-1",onClick:t=>e.deleteCartItem(s.id)}," 刪除產品 ",8,le),(0,a._)("button",{type:"button",class:"btn btn-light ms-1",onClick:t[4]||(t[4]=(...t)=>e.cancelOverlay&&e.cancelOverlay(...t))}," 返回 ")])])])):(0,a.kq)("",!0)],2)))),128))]),(0,a._)("div",re,[(0,a._)("div",ie,[ne,(0,a._)("p",oe,"NT$ "+(0,l.zw)(e.cart.total?.toLocaleString("en-us")),1)]),(0,a._)("div",ce,[(0,a._)("div",de,[(0,a.Wm)(o,{to:{path:"/user/cart"},class:"btn btn-outline-secondary w-45 mr-2 mb-3",onClick:t[5]||(t[5]=t=>e.cartIsShown=!1)},{default:(0,a.w5)((()=>[ue])),_:1}),(0,a.Wm)(o,{to:{path:"/user/cart/order"},class:(0,l.C_)(["btn btn-dark w-45 ms-2 mb-3",{disabled:!this.cart.carts?.length}]),onClick:t[6]||(t[6]=t=>e.cartIsShown=!1)},{default:(0,a.w5)((()=>[pe])),_:1},8,["class"])])])])],32)):(0,a.kq)("",!0)])),_:1})])}var he=s(4677),be=s(4301),ge=s(6294),ke=s(5922),ve={components:{StoreProductInput:ke.Z},computed:{...(0,be.rn)(he.x,["cart"]),...(0,be.rn)(ge.Z,["cartLoadingItem"]),...(0,be.Ah)(ge.Z,["cartDeletedItem"]),...(0,be.Ah)(ge.Z,["cartIsShown"])},methods:{async updateQty(e,t,s){await this.updateCartItem({productId:t,qty:e},s)},...(0,be.nv)(he.x,["getCartList","deleteCartItem","updateCartItem","overlayCartItem","cancelOverlay"])},async created(){await this.getCartList()}},fe=s(89);const ye=(0,fe.Z)(ve,[["render",me],["__scopeId","data-v-cf440340"]]);var _e=ye,Ie={components:{StoreHeaderMiniCart:_e},data(){return{isActive:!1,isCollapsed:!0,collapse:{},topVisible:0}},computed:{positionType(){return"thermosClassic"===this.$route.name?"position-fixed":"position-sticky"},headerScroll(){return 0!==this.topVisible&&"thermosClassic"!==this.$route.name?"header header--scroll":"header"},navScroll(){return 0!==this.topVisible&&"thermosClassic"!==this.$route.name?"navbar navbar--scroll":"navbar"}},emits:["blurPages"],methods:{toggleHamburger(){this.isCollapsed&&(this.isActive=!this.isActive,this.collapse.toggle()),this.$emit("blurPages",this.isActive)},beCollapsed(){this.isCollapsed=!0},beCollapsing(){this.isCollapsed=!1},calcTopVisible(){this.topVisible=document.documentElement.scrollTop}},mounted(){this.collapse=new(L().Collapse)(this.$refs.hamburger,{toggle:!1}),this.$refs.hamburger.addEventListener("show.bs.collapse",this.beCollapsing),this.$refs.hamburger.addEventListener("hide.bs.collapse",this.beCollapsing),this.$refs.hamburger.addEventListener("shown.bs.collapse",this.beCollapsed),this.$refs.hamburger.addEventListener("hidden.bs.collapse",this.beCollapsed),document.addEventListener("scroll",this.calcTopVisible)}};const we=(0,fe.Z)(Ie,[["render",x],["__scopeId","data-v-4af41e21"]]);var Ce=we;const xe={class:"py-4"},De={class:"nav justify-content-center border-top py-3 my-0"},Le=(0,a.Uk)("商品資訊"),Se=(0,a.Uk)("線上訂購"),qe=(0,a.Uk)("訂單查詢"),Ue=(0,a.Uk)("關於我們"),$e=(0,a._)("p",{class:"text-muted text-center fs-7"},"Copyright © 2022 CHIRP鳥牌. All rights reserved",-1),We={class:"text-muted text-center fs-7"},Oe=(0,a.Uk)(" Designed/Developed by: Sam Chiu | Admin portal: "),He=(0,a.Uk)("Dashboard"),Ae=(0,a.uE)('<ul class="list-group flex-row justify-content-center align-items-center"><li class="list-group-item bg-transparent border-0"><a href="https://www.linkedin.com/in/sam-chiu-4b7557137/" class="link-secondary" target="_blank"><span class="visually-hidden">Link of Sam Chiu&#39;s LinkedIn page</span><i class="bi bi-linkedin fs-3"></i></a></li><li class="list-group-item bg-transparent border-0"><a href="https://github.com/samchiu064" class="link-secondary" target="_blank"><span class="visually-hidden">Link of Sam Chiu&#39;s GitHub page</span><i class="bi bi-github fs-3"></i></a></li><li class="list-group-item bg-transparent border-0"><a href="mailto: samchiu064@gmail.com" class="link-secondary"><span class="visually-hidden">Send an email to samchiu064@gmail.com</span><i class="bi bi-envelope-fill fs-3"></i></a></li></ul>',1);function Re(e,t,s,r,i,n){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",xe,[(0,a._)("nav",De,[(0,a.Wm)(o,{to:"/thermos/classic",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"thermosClassic"===this.$route.name}])},{default:(0,a.w5)((()=>[Le])),_:1},8,["class"]),(0,a.Wm)(o,{to:"/thermos/classic/details/classic-green",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"thermosClassicDetails"===this.$route.name}])},{default:(0,a.w5)((()=>[Se])),_:1},8,["class"]),(0,a.Wm)(o,{to:"/order-check",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"orderCheck"===this.$route.name}])},{default:(0,a.w5)((()=>[qe])),_:1},8,["class"]),(0,a.Wm)(o,{to:"/about-us",class:(0,l.C_)(["nav-link d-block link-secondary underline fs-6 p-2 px-md-3",{"nav-link--selected":"aboutUs"===this.$route.name}])},{default:(0,a.w5)((()=>[Ue])),_:1},8,["class"])]),$e,(0,a._)("p",We,[Oe,(0,a.Wm)(o,{to:"/dashboard",class:"link-secondary"},{default:(0,a.w5)((()=>[He])),_:1})]),Ae])}var Ze={};const Ee=(0,fe.Z)(Ze,[["render",Re]]);var Fe=Ee,Me={components:{StoreHeader:Ce,StoreFooter:Fe},data(){return{hamburgerIsOpened:!1}},computed:{pagesWithoutFooter(){const e=["home","thermosClassic"];return!!e.includes(this.$route.name)}},methods:{blurPages(e){this.hamburgerIsOpened=!!e}}};const Pe=(0,fe.Z)(Me,[["render",r],["__scopeId","data-v-50421680"]]);var Ve=Pe},2835:function(e,t,s){e.exports=s.p+"img/logo.d1a6f549.svg"}}]);
//# sourceMappingURL=619.1136e06d.js.map