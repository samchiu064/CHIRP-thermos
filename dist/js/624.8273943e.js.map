{"version":3,"file":"js/624.8273943e.js","mappings":"2NAEA,MAAMA,EAAeC,IAAAA,OAAa,CAChCC,QAAU,0CAGZ,GAAIC,SAASC,OAAQ,CACnB,MAAMC,EAAQF,SAASC,OACpBE,MAAM,MACNC,MAAMC,GAAQA,EAAIC,WAAW,eAC7BH,MAAM,KAAK,GAEdN,EAAaU,aAAaC,QAAQC,KAC/BD,IACCA,EAAQE,QAAQC,cAAgBT,EACzBM,KAERI,GAAUC,QAAQC,OAAOF,KAIvB,MAAMG,EAAiBC,GAASnB,EAAaoB,KAAK,gBAAiBD,GAC7DE,EAAiB,IAAMrB,EAAaoB,KAAK,WACzCE,EAAgB,IAAMtB,EAAaoB,KAAK,oB,mGCtB9CG,MAAM,kB,GAEFA,MAAM,Y,GACTC,EAAAA,EAAAA,GAAgD,MAA5CD,MAAM,8BAA6B,QAAI,G,GACtCA,MAAM,Q,GACFE,IAAI,aAAaF,MAAM,iB,WAC3B,kB,GAWAA,MAAM,Q,GACFE,IAAI,gBAAgBF,MAAM,iB,WAC9B,a,GAWLC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,iBAAe,EACxBC,EAAAA,EAAAA,GAA0E,UAAlED,MAAM,mCAAmCG,KAAK,UAAS,QADjE,G,0CA9BNC,EAAAA,EAAAA,IAmCM,MAnCN,EAmCM,EAlCJH,EAAAA,EAAAA,GAiCO,QAjCDD,MAAM,6BAA8BK,SAAM,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAAhE,EACEL,EAAAA,EAAAA,GA+BM,MA/BN,EA+BM,CA9BJM,GACAN,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAUQ,QAVR,EAUQ,aARNA,EAAAA,EAAAA,GAOE,SANAE,KAAK,QACLK,GAAG,aACHR,MAAM,eACNS,YAAY,gBACZC,SAAA,G,qCACSC,EAAAA,KAAKC,SAAQC,IANxB,iBAMWF,EAAAA,KAAKC,iBAIpBX,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAUQ,QAVR,EAUQ,aARNA,EAAAA,EAAAA,GAOE,SANAE,KAAK,WACLK,GAAG,gBACHR,MAAM,eACNS,YAAY,WACZC,SAAA,G,qCACSC,EAAAA,KAAKG,SAAQD,IANxB,iBAMWF,EAAAA,KAAKG,gBAIpBC,KA7BJ,M,cAwCJ,GACEnB,OACE,MAAO,CACLoB,KAAM,CACJJ,SAAU,GACVE,SAAU,MAIhBG,QAAS,CACPC,UACEvB,EAAAA,EAAAA,IAAcwB,KAAKH,MAChBI,MAAMC,IAEL,MAAM,MAAEvC,EAAF,QAASwC,GAAYD,EAAIzB,KAC/BhB,SAASC,OAAU,cAAaC,gBAAoB,IAAIyC,KAAKD,KAC7DH,KAAKK,QAAQC,KAAK,0BAEnBC,OAAOC,W,QCvDhB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://my-project/./src/api/adminLogon.js","webpack://my-project/./src/views/DashboardLogin.vue","webpack://my-project/./src/views/DashboardLogin.vue?fd5e"],"sourcesContent":["import axios from 'axios';\n\nconst logonRequest = axios.create({\n  baseURL: `${process.env.VUE_APP_API}/`,\n});\n\nif (document.cookie) {\n  const token = document.cookie\n    .split('; ')\n    .find((row) => row.startsWith('hexToken='))\n    .split('=')[1];\n\n  logonRequest.interceptors.request.use(\n    (request) => {\n      request.headers.Authorization = token;\n      return request;\n    },\n    (error) => Promise.reject(error)\n  );\n}\n\nexport const postUserLogin = (data) => logonRequest.post('/admin/signin', data);\nexport const postUserLogout = () => logonRequest.post('/logout');\nexport const postUserCheck = () => logonRequest.post('/api/user/check');\n","<template>\n  <div class=\"container mt-5\">\n    <form class=\"row justify-content-center\" @submit.prevent=\"signin\">\n      <div class=\"col-md-6\">\n        <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\n        <div class=\"mb-2\">\n          <label for=\"inputEmail\" class=\"sr-only w-100\"\n            >Email address\n            <input\n              type=\"email\"\n              id=\"inputEmail\"\n              class=\"form-control\"\n              placeholder=\"Email address\"\n              required\n              v-model=\"user.username\"\n            />\n          </label>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"inputPassword\" class=\"sr-only w-100\"\n            >Password\n            <input\n              type=\"password\"\n              id=\"inputPassword\"\n              class=\"form-control\"\n              placeholder=\"Password\"\n              required\n              v-model=\"user.password\"\n            />\n          </label>\n        </div>\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { postUserLogin } from '@/api/adminLogon';\n\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  methods: {\n    signin() {\n      postUserLogin(this.user)\n        .then((res) => {\n          console.log(res);\n          const { token, expired } = res.data;\n          document.cookie = `hexToken = ${token}; expires = ${new Date(expired)}`; // expires, not expired; 不使用 new Date Expires 時間會變成 When the browsing session ends\n          this.$router.push('/dashboard/products');\n        })\n        .catch((err) => console.log(err));\n    },\n  },\n};\n</script>\n","import { render } from \"./DashboardLogin.vue?vue&type=template&id=4dc9b494\"\nimport script from \"./DashboardLogin.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\rainb\\\\Desktop\\\\vue-project\\\\CHIRP-thermos\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["logonRequest","axios","baseURL","document","cookie","token","split","find","row","startsWith","interceptors","request","use","headers","Authorization","error","Promise","reject","postUserLogin","data","post","postUserLogout","postUserCheck","class","_createElementVNode","for","type","_createElementBlock","onSubmit","$options","_hoisted_3","id","placeholder","required","$data","username","$event","password","_hoisted_10","user","methods","signin","this","then","res","expired","Date","$router","push","catch","err","__exports__","render"],"sourceRoot":""}