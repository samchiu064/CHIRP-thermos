"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[652],{4827:function(t,e,r){r.d(e,{er:function(){return v},Wf:function(){return g},dr:function(){return I},ye:function(){return k},gJ:function(){return w},FC:function(){return y},Vh:function(){return x},sG:function(){return b}});var s=r(6265),o=r.n(s);const a=o().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),n=()=>a.get("/cart"),d=t=>a.post("/cart",t),l=(t,e)=>a.put(`/cart/${e}`,t),i=t=>a.delete(`/cart/${t}`),c=(o().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),o().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"})),u=t=>c.post("/coupon",t),p=o().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),h=t=>p.get(`/order/${t}`),f=t=>p.post("/order",t),m=o().create({baseURL:"https://vue3-course-api.hexschool.io/api/samchiu064-api/"}),_=()=>m.get("/products"),g=n,w=d,b=l,v=i,y=u,I=h,x=f,k=_},6294:function(t,e,r){var s=r(4301);e["Z"]=(0,s.Q_)("statusStore",{state:()=>({isLoading:!1,cartIsShown:!1,cartLoadingItem:"",cartDeletedItem:"",cartItemIsAdded:!1,cartItemIsOverlaid:!1,couponIsApplied:!1,couponIsValid:!1,orderIsValid:!1,apiRequestIsFailed:!1,apiErrorMessage:""})})},6623:function(t,e,r){r.d(e,{Z:function(){return _}});var s=r(3396),o=r(7139);const a={class:"table-responsive"},n={class:"table text-nowrap"},d=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"品名"),(0,s._)("th",{scope:"col"},"數量"),(0,s._)("th",{scope:"col",class:"text-end"},"單價")])],-1),l={scope:"row"},i={class:"text-end"},c=(0,s._)("th",{scope:"row"},"總價",-1),u={colspan:"2",class:"text-end"};function p(t,e,r,p,h,f){return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("table",n,[d,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",l,(0,o.zw)(t.product.title),1),(0,s._)("td",null,(0,o.zw)(t.qty)+"/"+(0,o.zw)(t.product.unit),1),(0,s._)("td",i,(0,o.zw)(t.product.price?.toLocaleString("en-us")),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[c,(0,s._)("td",u,"NT$ "+(0,o.zw)(r.order.total?.toLocaleString("en-us")),1)])])])])}var h={props:{order:{type:Object,default:()=>{}}}},f=r(89);const m=(0,f.Z)(h,[["render",p]]);var _=m},3371:function(t,e,r){r.d(e,{Z:function(){return w}});var s=r(3396),o=r(7139);const a={class:"table-responsive"},n={class:"table text-nowrap align-middle table-borderless border mb-3"},d=(0,s._)("thead",{class:"table-light border-bottom"},[(0,s._)("tr",null,[(0,s._)("th",{colspan:"2",scope:"col",class:"fw-normal"},"訂單資訊")])],-1),l=(0,s._)("th",{class:"fw-medium"},"Email",-1),i=(0,s._)("th",{class:"fw-medium"},"收件人名稱",-1),c=(0,s._)("th",{class:"fw-medium"},"收件人聯絡電話",-1),u=(0,s._)("th",{class:"fw-medium"},"收件人地址",-1),p=(0,s._)("th",{class:"fw-medium"},"備註",-1),h=(0,s._)("tr",null,[(0,s._)("th",{class:"fw-medium"},"付款狀態"),(0,s._)("td",null,"尚未付款")],-1);function f(t,e,r,f,m,_){return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("table",n,[d,(0,s._)("tbody",null,[(0,s._)("tr",null,[l,(0,s._)("td",null,(0,o.zw)(r.form.user.email),1)]),(0,s._)("tr",null,[i,(0,s._)("td",null,(0,o.zw)(r.form.user.name),1)]),(0,s._)("tr",null,[c,(0,s._)("td",null,(0,o.zw)(r.form.user.tel),1)]),(0,s._)("tr",null,[u,(0,s._)("td",null,(0,o.zw)(r.form.user.address),1)]),(0,s._)("tr",null,[p,(0,s._)("td",null,(0,o.zw)(r.form.message),1)]),h])])])}var m={props:{form:{type:Object,default:()=>{}}}},_=r(89);const g=(0,_.Z)(m,[["render",f]]);var w=g},1652:function(t,e,r){r.r(e),r.d(e,{default:function(){return q}});var s=r(3396),o=r(9242);const a=t=>((0,s.dD)("data-v-508e4b5c"),t=t(),(0,s.Cn)(),t),n={class:"container"},d=a((()=>(0,s._)("div",{class:"row justify-content-center mt-6"},[(0,s._)("div",{class:"col col-lg-6"},[(0,s._)("p",{class:"text-center fs-5 fw-medium"},"請輸入您的 20 碼訂單號碼以獲取訂單資訊")])],-1))),l={class:"row justify-content-center"},i={class:"col col-lg-6"},c={class:"input-group"},u={key:0,class:"text-danger fs-7 ps-3 m-0"},p={key:1,class:"text-danger fs-7 ps-3 m-0"},h={class:"row justify-content-center m-0 mt-4"},f={class:"col col-lg-6"},m={class:"row justify-content-center m-0"},_={class:"col col-lg-6"};function g(t,e,r,a,g,w){const b=(0,s.up)("StoreUserCartOrderList"),v=(0,s.up)("StoreUserCartOrderTable");return(0,s.wg)(),(0,s.iD)("div",n,[d,(0,s._)("div",l,[(0,s._)("div",i,[(0,s._)("div",c,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"訂單號碼","aria-label":"訂單號碼","aria-describedby":"button-addon2",maxlength:"20","onUpdate:modelValue":e[0]||(e[0]=t=>g.orderId=t)},null,512),[[o.nr,g.orderId]]),(0,s._)("button",{type:"button",class:"btn btn-outline-secondary",id:"button-addon2",onClick:e[1]||(e[1]=t=>w.getOrderList(g.orderId))}," 查詢 ")]),!g.orderIsValid&&0!==g.orderId.length&&g.orderId.length<20?((0,s.wg)(),(0,s.iD)("span",u,"錯誤的訂單號碼 ")):(0,s.kq)("",!0),g.orderNotFound?((0,s.wg)(),(0,s.iD)("span",p,"找不到這筆訂單 ")):(0,s.kq)("",!0)])]),(0,s._)("div",h,[(0,s._)("div",f,[g.orderIsValid?((0,s.wg)(),(0,s.j4)(b,{key:0,order:g.order},null,8,["order"])):(0,s.kq)("",!0)])]),(0,s._)("div",m,[(0,s._)("div",_,[g.orderIsValid?((0,s.wg)(),(0,s.j4)(v,{key:0,form:w.form},null,8,["form"])):(0,s.kq)("",!0)])])])}var w=r(6623),b=r(3371),v=r(4827),y=r(4301),I=r(6294),x={components:{StoreUserCartOrderList:w.Z,StoreUserCartOrderTable:b.Z},data(){return{order:{},orderId:"",orderIsValid:!1,orderNotFound:!1}},computed:{form(){const t={};return t.message=this.order.message??"",t.user={...this.order.user},t},...(0,y.Ah)(I.Z,["apiRequestIsFailed","apiErrorMessage"])},methods:{async getOrderList(t){if(this.orderIsValid=!1,!(t.length<20)){this.$Progress.start();try{const e=await(0,v.dr)(t);if(!e.data.order)return this.orderNotFound=!0,void this.$Progress.finish();this.order=e.data.order,this.orderIsValid=!0,this.orderNotFound=!1,this.$Progress.finish()}catch(e){this.apiRequestIsFailed=!0,this.apiErrorMessage=e,this.$Progress.fail()}}}},created(){this.$route.query.order_id&&(this.orderId=this.$route.query.order_id,this.getOrderList(this.$route.query.order_id))}},k=r(89);const L=(0,k.Z)(x,[["render",g],["__scopeId","data-v-508e4b5c"]]);var q=L}}]);
//# sourceMappingURL=652.6414763e.js.map